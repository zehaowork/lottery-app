{"version":3,"sources":["components/tab/tab.jsx","lottery.js","components/ball/ball.jsx","images/trash.png","utils/util.js","components/game/game.jsx","App.js","reportWebVitals.js","index.js"],"names":["Tab","props","onClick","switchTab","class","name","className","currentIdx","index","Lottery","front","back","price","numBet","cost","this","Ball","classNameString","isBack","isSelected","transformClassName","num","size","toString","length","pad","factorialize","result","Game","useState","setFront","numSelectedFront","setNumSelectedFront","numSelectedBack","setNumSelectedBack","setBack","setNumBet","useEffect","transformAreaToList","game","calculateNumBets","frontNum","backNum","min","e","handleClear","areaObj","isFront","list","maxNum","push","renderBalls","area","ballList","forEach","el","item","max","handleClick","Fragment","src","trashIcon","alt","App","games","setCurrentIdx","gameItem","map","renderGame","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a311577d.chunk.js","sourcesContent":["import './tab.css';\n// tab部分\nfunction Tab(props){\n    return <div onClick={()=>{props.switchTab();}} class='tab-item'>\n        <p>{props.name}</p>\n        <div className={props.currentIdx === props.index?'active':''} ></div>\n    </div>\n   \n}\nexport default Tab;","export default class Lottery{\n    \n    constructor(name,front,back,price,numBet,cost) {\n        this.name = name;\n        this.front = front\n        this.back = back\n        this.price = price\n        \n    }\n}","import './ball.css'\n\nfunction Ball(props){\n    // 加入 leading zero\n    function pad(num, size) {\n        num = num.toString();\n        while (num.length < size) num = \"0\" + num;\n        return num;\n    }\n\n    //根据选中状态，以及section来定义样式\n    const transformClassName = ()=>{\n        let classNameString = 'ball';\n        if (props.isBack && props.isSelected){\n            classNameString = classNameString +\" back-ball back-active\"\n        }\n        else if(props.isBack && !props.isSelected){\n            classNameString = classNameString +\" back-ball\"\n        }\n        else if(!props.isBack && props.isSelected){\n            classNameString = classNameString +\" active\"\n        }\n       return classNameString\n    }\n\nreturn <div onClick={props.onClick} class={transformClassName()} >\n    <p>{pad(props.num,2)}</p>\n</div>\n}\nexport default Ball;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAA5UlEQVQ4jd2TsUoDQRRFz5MtQqoUwVYsLIPfYR/wF6yClWiVyjJtPiGtra2Ff6DYiIVF2pCAGEI2J80ElmUMu60XBob73j3zpniQkfqoLtQf9VddqpNcb1RCp0AH6ALvwBT4SOUL4Ba4BFbAJiLm1Rdv1NLmKtURQJEY58BzbsQjOqt/YQhcNww/RcSsOgHAABg2BHwBM4CTTHGdYJ/AGHgAvpO3qjcXdQPYRcSbugbmCbhJ3rbenJuglf4ZoGyR2x0uRcYs1DugD1wBW6CXvM6fSHXUYhfuc4Ce+pLW99h5VfuH3B7G4Ng6L3BzlgAAAABJRU5ErkJggg==\"","  // 阶乘\n  export const factorialize =(num)=> {\n    var result = num;\n    if (num === 0 || num === 1) \n      return 1; \n    while (num > 1) { \n      num--;\n      result *= num;\n    }\n    return result;\n  }\n","import React, {useState,useEffect} from 'react'\nimport Ball from '../ball/ball'\nimport './game.css';\nimport trashIcon from '../../images/trash.png'\nimport {factorialize} from '../../utils/util.js'\n\n/*数字彩票的定义：\n数字彩票可以分为，单区  e.g 33 选 6 或 双区 (前区以及后区) e.g 33 选 6 + 15 选1\n每个区域可以设置 min 和 max，分别代表 最小组合的数字数量，以及可选的数字数量上限 (用于复式投注的上限)\n\n*/\nfunction Game(props){\n    const [front, setFront] = useState([]);\n   const [numSelectedFront, setNumSelectedFront] = useState(0);\n   const [numSelectedBack, setNumSelectedBack] = useState(0);\n   const [back, setBack] = useState(null);\n  const [numBet, setNumBet] = useState(0);\n\n//挂载时触发，将每个数字 转化成 一个 对象列表  e.g[{num:1,isSelected:false}]\n  useEffect(() => {\n    transformAreaToList(props.game.front,true);\n    transformAreaToList(props.game.back,false);\n}, [])\n    \n   //当选中的号码数量发生改变时触发\n    useEffect(() => {\n        calculateNumBets();\n    }, [numSelectedBack, numSelectedFront])\n\n   \n  \n\n  //计算复式投注，其实就是各种不重复数字的组合。\n  // formula : n!/k!(n-k)!\n  // n = 已经选中的号码\n  // k = 游戏定义的最少数量组合\n   const calculateNumBets = ()=>{\n       let frontNum = 0;\n       let backNum = 0;\n\n        // 捕捉单区数字彩时出现的 back 是 undefined的错误\n        try{\n            if(  numSelectedFront<props.game.front.min || numSelectedBack<props.game.back.min){\n                return;\n            }\n            else{\n                frontNum = factorialize(numSelectedFront)/(factorialize(props.game.front.min)*factorialize((numSelectedFront-props.game.front.min)))\n                backNum = factorialize(numSelectedBack)/(factorialize(props.game.back.min)*factorialize((numSelectedBack-props.game.back.min)))\n                setNumBet(frontNum*backNum)\n            }\n        }\n        catch(e){\n            if(numSelectedFront<props.game.front.min){\n                return;\n            }\n            else{\n                frontNum = factorialize(numSelectedFront)/(factorialize(props.game.front.min)*factorialize((numSelectedFront-props.game.front.min)))\n                setNumBet(frontNum)\n            }\n        }\n        \n       \n       \n       \n   }\n\n\n   // 点击数字时触发\n    const handleClick = (isBack,num)=>{\n       \n        let area = isBack?[...back]:[...front];\n        let item = {...area[num-1]};\n        item.isSelected = ! item.isSelected;\n        // 查看是否区域已达到上限\n        if((isBack) && (numSelectedBack>=props.game.back.max) && item.isSelected === true ){\n            return;\n        }\n        if((!isBack) && (numSelectedFront>=props.game.front.max) && item.isSelected === true ){\n            return;\n        }\n\n        \n        area[num-1] = item;\n       \n        if(isBack){\n            setBack(area);\n           if(item.isSelected === true){\n            setNumSelectedBack(numSelectedBack+1);\n           }\n           else{\n            setNumSelectedBack(numSelectedBack-1);\n           }\n        }\n        else{\n           \n            setFront(area);\n            if(item.isSelected === true){\n                setNumSelectedFront(numSelectedFront+1);\n            }\n            else{\n                setNumSelectedFront(numSelectedFront-1);\n            }\n            \n        }\n   \n    }\n\n    // 点击 Bin 图标时触发，重置当前state\n    const handleClear = ()=>{\n        transformAreaToList(props.game.front,true);\n        transformAreaToList(props.game.back,false);\n        setNumBet(0);\n        setNumSelectedBack(0);\n        setNumSelectedFront(0);\n    }\n\n   \n    //将每个数字 转化成 一个 对象列表  e.g[{num:1,isSelected:false}]\n    const transformAreaToList = (areaObj,isFront)=>{\n        if(areaObj == null){\n            return;\n        }\n        let num = 1;\n        let list = [];\n        while(num<= areaObj.maxNum){\n            list.push({num:num,isSelected:false})\n            num=num+1\n        }\n        if(isFront){\n            setFront(list)\n        }\n        else{\n            setBack(list);\n        }\n        \n    }\n\n\n  \n  //数字彩号码选择渲染函数\n    const renderBalls = (area,isBack)=>{\n     \n      let ballList = [];\n      \n      area.forEach(el=>{\n          ballList.push(<Ball onClick={()=>{handleClick(isBack,el.num);}} isBack={isBack} isSelected={el.isSelected} num={el.num} />)\n      })\n     return ballList;\n    }\n\n\n    return <React.Fragment>\n         <div class='content' >\n         <div class ='selection-area'>\n        <div >{renderBalls(front,false)}\n        </div>\n       {back!= null&& <div >{renderBalls(back,true)}\n        </div>}\n\n    </div>\n         </div>\n    <footer class='footer' >\n      <img onClick={()=>{handleClear();}} src={trashIcon} alt='delete' ></img>\n      \n      <div>一共{numBet}注,{numBet*props.game.price}元</div>\n      <img onClick={()=>{handleClear();}} src={trashIcon} alt='delete' ></img>\n    </footer>\n    </React.Fragment>\n       \n    \n}\nexport default Game;","import {useState} from 'react'\nimport Tab from './components/tab/tab.jsx'\nimport Lottery from './lottery'\nimport Game from './components/game/game.jsx'\nimport './App.css';\n\n// 图片\n\n\n\nfunction App() {\n  \n  const games =[new Lottery('双色球',{maxNum:33,min:6,max:20},{maxNum:15,min:1,max:5},2),new Lottery('大乐透',{maxNum:35,min:5,max:20},{maxNum:12,min:2,max:5},2)];\n  const [currentIdx, setCurrentIdx] = useState(0);\n  \n  \n  // 切换不同的数字彩\n  const switchTab = (index)=>{\n    setCurrentIdx(index);\n  }\n \n\n//数字彩tab的渲染函数\n  const gameItem = games.map((game,index)=>{\n    return<Tab switchTab={()=>{switchTab(index)}} currentIdx={currentIdx} index={index} name={game.name} />\n  })\n\n  //条件渲染，数字彩 => 切换不同数字彩 会导致 之前进度的丢失。\n  const renderGame = games.map((game,index)=>{\n      if(currentIdx === index){\n        return <Game  game={game} />\n      }\n      else{\n        return null;\n      }\n  })\n\n\n\n  return (\n    <div className=\"App\">\n      <header class='tab-bar'>{gameItem}</header>\n     {renderGame}\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}